import streamlit as st
import time

# 1. рдкреЗрдЬ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди
st.set_page_config(page_title="Logic & Health Analyzer", page_icon="тЪЦя╕П", layout="centered")

# 2. рдХрд╕реНрдЯрдо CSS (рджрд┐рдЦрдиреЗ рдореЗрдВ рдФрд░ рд╕реБрдВрджрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП)
st.markdown("""
    <style>
    .main { background-color: #f5f7f9; }
    .stButton>button { width: 100%; border-radius: 20px; height: 3em; background-color: #ff4b4b; color: white; }
    </style>
    """, unsafe_allow_html=True)

# 3. рд╕рд╛рдЗрдбрдмрд╛рд░
with st.sidebar:
    st.title("тД╣я╕П рдРрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ")
    st.info("рдпрд╣ рдРрдк рддрд╛рд░реНрдХрд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг (Logical Analysis) рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред")
    st.write("рдбреЗрд╡рд▓рдкрд░: [рдЖрдкрдХрд╛ рдирд╛рдо]")

# 4. рдореБрдЦреНрдп рд╣реЗрдбрд░
st.title("тЪЦя╕П рдЬреАрд╡рди рдФрд░ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╡рд┐рд╢реНрд▓реЗрд╖рдХ")
st.markdown("---")

# 5. рдЗрдирдкреБрдЯ рд╕реЗрдХреНрд╢рди
col1, col2 = st.columns(2)
with col1:
    person_type = st.radio("рд╡реНрдпрдХреНрддрд┐ рдЪреБрдиреЗрдВ:", ["рдорд╣рд┐рд▓рд╛ (Female)", "рдкреБрд░реБрд╖ (Male)"], horizontal=True)
with col2:
    age_group = st.selectbox("рдЖрдпреБ рд╡рд░реНрдЧ:", ["15-25", "26-40", "40+"])

symptoms = st.multiselect(
    "рд▓рдХреНрд╖рдг рдЪреБрдиреЗрдВ (рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ):",
    ["рд▓рдЧрд╛рддрд╛рд░ рдердХрд╛рди ЁЯШл", "рдЧреБрд╕реНрд╕рд╛/рдЪрд┐рдбрд╝рдЪрд┐рдбрд╝рд╛рдкрди ЁЯШб", "рдХрд╛рдо рдореЗрдВ рдорди рди рд▓рдЧрдирд╛ ЁЯУЙ", "рд╡реНрдпрд╛рдкрд╛рд░ рдореЗрдВ рд░реБрдХрд╛рд╡рдЯ ЁЯЫС", "рдиреАрдВрдж рди рдЖрдирд╛ ЁЯМЩ"]
)

# 6. рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдмрдЯрди
if st.button("рдЧрд╣рд░рд╛рдИ рд╕реЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ"):
    if not symptoms:
        st.error("тЪая╕П рдХреГрдкрдпрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо рдПрдХ рд╡рд┐рдХрд▓реНрдк рдЪреБрдиреЗрдВ!")
    else:
        with st.spinner('рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ...'):
            time.sleep(1.5) # рд▓реЛрдбрд┐рдВрдЧ рдЗрдлреЗрдХреНрдЯ
        
        st.success("тЬЕ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдкреВрд░рд╛ рд╣реБрдЖ!")
        st.subheader("ЁЯУЛ рдЖрдкрдХреА рд░рд┐рдкреЛрд░реНрдЯ:")

        for s in symptoms:
            with st.expander(f"рджреЗрдЦреЗ: {s}", expanded=True):
                if "рдердХрд╛рди" in s:
                    st.write("**рддрд╛рд░реНрдХрд┐рдХ рдХрд╛рд░рдг:** рд╡рд┐рдЯрд╛рдорд┐рди рдХреА рдХрдореА рдпрд╛ рд╢рд╛рд░реАрд░рд┐рдХ рдкрд░рд┐рд╢реНрд░рдоред")
                    st.progress(70) # рдПрдХ рдкреНрд░реЛрдЧреНрд░реЗрд╕ рдмрд╛рд░
                elif "рдЧреБрд╕реНрд╕рд╛" in s:
                    st.write("**рддрд╛рд░реНрдХрд┐рдХ рдХрд╛рд░рдг:** рддрдирд╛рд╡ рдпрд╛ рд╣рд╛рд░реНрдореЛрдирд▓ рдЕрд╕рдВрддреБрд▓рдиред")
                elif "рд░реБрдХрд╛рд╡рдЯ" in s:
                    st.write("**рддрд╛рд░реНрдХрд┐рдХ рдХрд╛рд░рдг:** рдмрд╛рдЬрд╛рд░ рдХреА рд╕реНрдерд┐рддрд┐ рдпрд╛ рд░рдгрдиреАрддрд┐ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХреА рдЬрд░реВрд░рддред")
                # рдЗрд╕реА рддрд░рд╣ рдЕрдиреНрдп рд▓рдХреНрд╖рдг рдЬреЛреЬ рд╕рдХрддреЗ рд╣реИрдВ...

# 7. рдлреВрдЯрд░
st.markdown("---")
st.warning("тЪая╕П **рдЕрд╕реНрд╡реАрдХрд░рдг:** рдпрд╣ рдРрдк рдХреЗрд╡рд▓ рд╢реИрдХреНрд╖рд┐рдХ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рд╣реИред рдХрд┐рд╕реА рднреА рдЧрдВрднреАрд░ рд╕рдорд╕реНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╕реЗ рдкрд░рд╛рдорд░реНрд╢ рд▓реЗрдВред")

